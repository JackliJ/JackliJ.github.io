<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="You still need to have a dream. What if it came true?">
<meta property="og:type" content="website">
<meta property="og:title" content="Welcome to Au Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Welcome to Au Blog">
<meta property="og:description" content="You still need to have a dream. What if it came true?">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jack Li">
<meta property="article:tag" content="Python Java Android C">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Welcome to Au Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Welcome to Au Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Don&apos;t debug standing up. It cuts your patience m half, and you need all you can muster.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/21/%E4%BD%BF%E7%94%A8Scrcpy%E5%9C%A8Mac%E4%B8%AD%E5%AF%B9%E6%89%8B%E6%9C%BA%E8%BF%9B%E8%A1%8C%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/21/%E4%BD%BF%E7%94%A8Scrcpy%E5%9C%A8Mac%E4%B8%AD%E5%AF%B9%E6%89%8B%E6%9C%BA%E8%BF%9B%E8%A1%8C%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">使用Scrcpy在Mac中对手机进行控制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-21 11:50:36 / 修改时间：11:48:49" itemprop="dateCreated datePublished" datetime="2021-12-21T11:50:36+08:00">2021-12-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="使用Scrcpy在Mac中对手机进行操作控制"><a href="#使用Scrcpy在Mac中对手机进行操作控制" class="headerlink" title="使用Scrcpy在Mac中对手机进行操作控制"></a>使用Scrcpy在Mac中对手机进行操作控制</h1><p>通过ADB连接手机之后，可能一桌子上都是各种测试机，不便于操作。</p>
<p>程序员嘛，懒点能创造生产力。</p>
<p>今天介绍的是：使用开源项目<a target="_blank" rel="noopener" href="https://github.com/Genymobile/scrcpy#physical-keyboard-simulation-hid">Scrcpy</a>进行手机的投屏和操控</p>
<p>对比现在市面上各种免费的手机操控软件，最终还是觉得这款最好用。</p>
<p>官方原文的特点介绍:</p>
<p>It focuses on:</p>
<ul>
<li>lightness: native, displays only the device screen</li>
<li>performance: 30~120fps, depending on the device</li>
<li>quality: 1920×1080 or above</li>
<li>low latency: 35~70ms</li>
<li>low startup time: ~1 second to display the first image</li>
<li>non-intrusiveness: nothing is left installed on the device</li>
<li>user benefits: no account, no ads, no internet required</li>
<li>freedom: free and open source software</li>
<li>Its features include:</li>
</ul>
<p>recording</p>
<ul>
<li>mirroring with device screen off</li>
<li>copy-paste in both directions</li>
<li>configurable quality</li>
<li>device screen as a webcam (V4L2) (Linux-only)</li>
<li>physical keyboard simulation (HID) (Linux-only)</li>
<li>and more…</li>
</ul>
<p>总结下来就是</p>
<ul>
<li>亮度（原生，仅显示设备屏幕）</li>
<li>性能（30~60fps）</li>
<li>质量（1920×1080或以上）</li>
<li>低延迟（35~70ms）</li>
<li>启动时间短（显示第一张图像约1秒）</li>
<li>非侵入性（设备上没有安装任何东西）</li>
</ul>
<h1 id="安装教程-Mac"><a href="#安装教程-Mac" class="headerlink" title="安装教程(Mac)"></a>安装教程(Mac)</h1><p>如果你没安装<a target="_blank" rel="noopener" href="https://brew.sh/">brew</a>请先行安装，这里仅介绍Mac的安装，其他平台请参考原始文档</p>
<p><code>brew install scrcpy</code></p>
<p>等安装程序执行完毕，scrcpy就已经完成安装了</p>
<p>scrcpy依赖于Adb插件，所以在启动之前，需要确保设备已连接至电脑</p>
<p>关于adb和相关环境变量的配置，可以参考<a target="_blank" rel="noopener" href="https://www.aufuture.cn/">Python UIautomator2 自动化测试 2.4节</a></p>
<p>scrcpy启动命令：<code>scrcpy</code></p>
<p>scrcpy<strong>支持WIFI</strong>连接，连接步骤如下（使用Wi-Fi请保证至少一次USB方式连接）</p>
<ol>
<li>确保PC和手机在同一Wifi中</li>
<li>手机先通过USB与PC相连</li>
<li>在PC上运行 <code>adb tcpip</code> 服务端口，如端口为5555</li>
<li>拔下手机的USB连接</li>
<li>在PC上运行 <code>adb connect</code> 手机IP:服务端口</li>
<li>像往常一样运行 scrcpy相关命令</li>
<li>若要切换回USB模式：<code>adb usb</code></li>
</ol>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><ol>
<li>启动scrcpy</li>
</ol>
<p><code>scrcpy</code></p>
<ol start="2">
<li>如果有多个设备，需要指定序列号，序列号可以从adb devices获得</li>
</ol>
<p><code>scrcpy -s 6a86de95</code></p>
<ol start="3">
<li>设置端口</li>
</ol>
<p><code>scrcpy -p 27184</code></p>
<ol start="4">
<li>查看帮助</li>
</ol>
<p><code>scrcpy --help</code></p>
<ol start="5">
<li>设置码率（默认8M）</li>
</ol>
<p><code>scrcpy -b 8M</code></p>
<ol start="6">
<li>限制投屏尺寸</li>
</ol>
<p><code>scrcpy -m 1024</code></p>
<ol start="7">
<li>裁剪投屏屏幕(长:宽:偏移x:偏移y)</li>
</ol>
<p><code>scrcpy -c 800:800:0:0</code></p>
<ol start="8">
<li>投屏并录屏</li>
</ol>
<p><code>scrcpy -r file.mp4</code></p>
<ol start="9">
<li>不投屏只录屏</li>
</ol>
<p><code>scrcpy -Nr file.mp4</code></p>
<ol start="10">
<li>手指触摸的时候显示轨迹球</li>
</ol>
<p><code>scrcpy -t</code></p>
<ol start="11">
<li>显示版本信息</li>
</ol>
<p><code>scrcpy -v</code></p>
<ol start="12">
<li>关闭设备屏幕<br>使用命令行选项启动镜像时，可以关闭设备屏幕：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scrcpy --turn-screen-off</span><br><span class="line">scrcpy -S</span><br></pre></td></tr></table></figure>
<p>或者随时按<code>Ctrl + o</code>。要重新打开它，请按<code>POWER</code>键（或<code>Ctrl + p</code>）。</p>
<h1 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h1><table>
<thead>
<tr>
<th align="center">Action</th>
<th align="center">Windows</th>
<th align="center">Mac</th>
</tr>
</thead>
<tbody><tr>
<td align="center">切换全屏模式</td>
<td align="center">Ctrl+f</td>
<td align="center">Cmd+f</td>
</tr>
<tr>
<td align="center">将窗口调整为1:1 (完美像素)</td>
<td align="center">Ctrl+g</td>
<td align="center">Cmd+g</td>
</tr>
<tr>
<td align="center">调整窗口大小以删除黑色边框</td>
<td align="center">Ctrl+x</td>
<td align="center">Double-click¹</td>
</tr>
<tr>
<td align="center">返回到HOME</td>
<td align="center">Ctrl+h</td>
<td align="center">Middle-click</td>
</tr>
<tr>
<td align="center">返回</td>
<td align="center">Ctrl+b</td>
<td align="center">Right-click²</td>
</tr>
<tr>
<td align="center">Click on APP_SWITCH</td>
<td align="center">Ctrl+s</td>
<td align="center">Cmd+s</td>
</tr>
<tr>
<td align="center">点击菜单</td>
<td align="center">Ctrl+m</td>
<td align="center">Ctrl+m</td>
</tr>
<tr>
<td align="center">调节音量</td>
<td align="center">Ctrl+↑ (up)</td>
<td align="center">Cmd+↑ (up)</td>
</tr>
<tr>
<td align="center">调节音量</td>
<td align="center">Ctrl+↓ (down)</td>
<td align="center">Cmd+↓ (down)</td>
</tr>
<tr>
<td align="center">点击手机电源</td>
<td align="center">Ctrl+p</td>
<td align="center">Cmd+p</td>
</tr>
<tr>
<td align="center">Power on（打开）</td>
<td align="center">Right-click²</td>
<td align="center">Right-click²</td>
</tr>
<tr>
<td align="center">关闭设备屏幕（保持镜像）</td>
<td align="center">Ctrl+o</td>
<td align="center">Cmd+o</td>
</tr>
<tr>
<td align="center">展开通知面板</td>
<td align="center">Ctrl+n</td>
<td align="center">Cmd+n</td>
</tr>
<tr>
<td align="center">折叠通知面板</td>
<td align="center">Ctrl+Shift+n</td>
<td align="center">Cmd+Shift+n</td>
</tr>
<tr>
<td align="center">将设备剪贴板复制到计算机</td>
<td align="center">Ctrl+c</td>
<td align="center">Cmd+c</td>
</tr>
<tr>
<td align="center">将计算机剪贴板粘贴到设备</td>
<td align="center">Ctrl+v</td>
<td align="center">Cmd+v</td>
</tr>
<tr>
<td align="center">将计算机剪贴板复制到设备</td>
<td align="center">Ctrl+Shift+v</td>
<td align="center">Cmd+Shift+v</td>
</tr>
<tr>
<td align="center">启用/禁用FPS计数器（在标准输出上</td>
<td align="center">Ctrl+i</td>
<td align="center">Cmd+i</td>
</tr>
</tbody></table>
<p>¹双击黑色边框将其删除。<br>²如果已关闭，请右键单击以打开屏幕，否则按BACK。</p>
<p>参考博客链接:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/xusx2014/p/11948813.html">https://www.cnblogs.com/xusx2014/p/11948813.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/20/%E6%A0%B9%E6%8D%AE%E9%9F%B3%E8%B4%9D%E5%A4%A7%E5%B0%8F%E8%BF%9B%E8%A1%8C%E6%B3%A2%E5%8A%A8%E7%9A%84WaveView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/20/%E6%A0%B9%E6%8D%AE%E9%9F%B3%E8%B4%9D%E5%A4%A7%E5%B0%8F%E8%BF%9B%E8%A1%8C%E6%B3%A2%E5%8A%A8%E7%9A%84WaveView/" class="post-title-link" itemprop="url">可根据音贝大小进行波动的WaveView</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-20 11:47:36 / 修改时间：12:00:06" itemprop="dateCreated datePublished" datetime="2021-12-20T11:47:36+08:00">2021-12-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="可根据音贝大小进行波动的WaveView"><a href="#可根据音贝大小进行波动的WaveView" class="headerlink" title="可根据音贝大小进行波动的WaveView"></a>可根据音贝大小进行波动的WaveView</h1><p>先看一下最终的效果图</p>
<p><img src="https://raw.githubusercontent.com/JackliJ/JackImage/master/20211220115046.png" alt="用例1-w400"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">import android.content.Context;</span><br><span class="line">import android.graphics.Canvas;</span><br><span class="line">import android.graphics.Paint;</span><br><span class="line">import android.graphics.Path;</span><br><span class="line">import android.graphics.RectF;</span><br><span class="line">import android.util.AttributeSet;</span><br><span class="line">import android.view.View;</span><br><span class="line"></span><br><span class="line">import com.wanmide.tanbao.ui.TanBaoApplication;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class CosWaveView extends View &#123;</span><br><span class="line"></span><br><span class="line">    NextFrameAction nextFrameAction;</span><br><span class="line">    RectF rectF;</span><br><span class="line">    Paint paint;</span><br><span class="line">    Paint paint2;</span><br><span class="line">    Paint paint3;</span><br><span class="line">    Path path;</span><br><span class="line">    Path path1;</span><br><span class="line">    Path path2;</span><br><span class="line">    int width;</span><br><span class="line">    int height;</span><br><span class="line">    int w = 0;</span><br><span class="line">    double startTime;</span><br><span class="line">    int waveAmplitude;</span><br><span class="line">    int toWaveAmplitude;</span><br><span class="line">    int waveRange;</span><br><span class="line">    int highLevel;</span><br><span class="line">    int speed = 2;</span><br><span class="line">    int count = 0;</span><br><span class="line"></span><br><span class="line">    boolean isStart = true;</span><br><span class="line">    boolean isFirst = true;</span><br><span class="line"></span><br><span class="line">    public CosWaveView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public CosWaveView(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public CosWaveView(Context context, AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class="line">        super(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void init() &#123;</span><br><span class="line">        //后续会重新调用onMeasure 为了防止闪烁应该只初始化一次</span><br><span class="line">        if(isFirst &amp;&amp; isStart)&#123;</span><br><span class="line">            //初始化循环绘制的Runnable</span><br><span class="line">            nextFrameAction = new NextFrameAction();</span><br><span class="line">            width = getMeasuredWidth();</span><br><span class="line">            height = getMeasuredHeight();</span><br><span class="line">            waveRange = width;</span><br><span class="line">            //绘制区域和画笔初始化</span><br><span class="line">            rectF = new RectF(2, 2, width - 2, height - 2);</span><br><span class="line">            paint = new Paint();</span><br><span class="line">            paint2 = new Paint();</span><br><span class="line">            paint3 = new Paint();</span><br><span class="line">            paint.setAntiAlias(true);</span><br><span class="line">            paint.setStyle(Paint.Style.FILL);</span><br><span class="line">            paint.setColor(0x4d2FC29D);</span><br><span class="line">            paint3.setAntiAlias(true);</span><br><span class="line">            paint3.setStyle(Paint.Style.FILL);</span><br><span class="line">            paint3.setColor(0x4d2FC29D);</span><br><span class="line">            paint2.setAntiAlias(true);</span><br><span class="line">            paint2.setStyle(Paint.Style.STROKE);</span><br><span class="line">            paint2.setStrokeWidth(5);</span><br><span class="line">            paint2.setColor(0x440000ff);</span><br><span class="line">            path = new Path();</span><br><span class="line">            path1 = new Path();</span><br><span class="line">            path2 = new Path();</span><br><span class="line">            path2.addCircle(width / 2, height / 2, (width - 2) / 2, Path.Direction.CW);</span><br><span class="line">            startTime = TanBaoApplication.Instance().currentTimeMillis();</span><br><span class="line">            waveAmplitude = 5;</span><br><span class="line">            toWaveAmplitude = 5;</span><br><span class="line">            highLevel = (int) (height * (0.5));</span><br><span class="line">            invalidate();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 开始展示</span><br><span class="line">     */</span><br><span class="line">    public void start() &#123;</span><br><span class="line">        isStart = true;</span><br><span class="line">        isFirst = false;</span><br><span class="line">        requestLayout();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 停止展示</span><br><span class="line">     */</span><br><span class="line">    public void stop() &#123;</span><br><span class="line">        isStart = false;</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置浮动大小</span><br><span class="line">     */</span><br><span class="line">    public void setWaveAmplitude(int waveAmplitude) &#123;</span><br><span class="line">        this.toWaveAmplitude = Math.min(Math.max(waveAmplitude, 5), 140);</span><br><span class="line">        speed = Math.max(waveAmplitude / 12, 5);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 循环更新的Runnable</span><br><span class="line">     */</span><br><span class="line">    protected class NextFrameAction implements Runnable &#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            path.reset();</span><br><span class="line">            path1.reset();</span><br><span class="line">            path.addArc(rectF, 0f, 180f);</span><br><span class="line">            path1.addArc(rectF, 0f, 180f);</span><br><span class="line">            w += speed;</span><br><span class="line">            if (toWaveAmplitude &gt; waveAmplitude) &#123;</span><br><span class="line">                count++;</span><br><span class="line">                if (count % 2 == 0) &#123;</span><br><span class="line">                    count = 0;</span><br><span class="line">                    waveAmplitude++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                count++;</span><br><span class="line">                if (count % 2 == 0) &#123;</span><br><span class="line">                    count = 0;</span><br><span class="line">                    waveAmplitude--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (w &gt;= (width - 2) * 2) &#123;</span><br><span class="line">                w = 0;</span><br><span class="line">            &#125;</span><br><span class="line">            for (int i = 2; i &lt; width - 2; i++) &#123;</span><br><span class="line">                path.lineTo(i, (float) (highLevel + waveAmplitude * Math.cos((float) (i - w -speed) / (float) (width - 2) * Math.PI)));</span><br><span class="line">                path1.lineTo(i, (float) (highLevel + waveAmplitude * Math.cos((float) (i + w + speed) / (float) (width - 2) * Math.PI * 2)));</span><br><span class="line">            &#125;</span><br><span class="line">            path.close();</span><br><span class="line">            path1.close();</span><br><span class="line">            invalidate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123;</span><br><span class="line">        super.onMeasure(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onDraw(Canvas canvas) &#123;</span><br><span class="line">        if(!isFirst) &#123;</span><br><span class="line">            canvas.save();</span><br><span class="line">            canvas.clipPath(path2);</span><br><span class="line">            canvas.drawPath(path, paint);</span><br><span class="line">            if (isStart) &#123;</span><br><span class="line">                postDelayed(nextFrameAction, 5);</span><br><span class="line">            &#125;</span><br><span class="line">            canvas.drawPath(path1, paint3);</span><br><span class="line">            canvas.restore();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用的方式很简单，我们只需要将通过AudioRecorder.getCurrentRecordMaxAmplitude()方法获取的音贝设置给组件setWaveAmplitude即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/17/Python%20+%20UIautomator2%20%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/17/Python%20+%20UIautomator2%20%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">Python UIautomator2 自动化测试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-17 17:01:28" itemprop="dateCreated datePublished" datetime="2021-12-17T17:01:28+08:00">2021-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-20 11:48:04" itemprop="dateModified" datetime="2021-12-20T11:48:04+08:00">2021-12-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Python-UIautomator2-实现自动化测试"><a href="#Python-UIautomator2-实现自动化测试" class="headerlink" title="Python + UIautomator2 实现自动化测试"></a>Python + UIautomator2 实现自动化测试</h1><p>Uiautomator是Google提供的用来做安卓自动化测试的一个Java库，基于Accessibility服务。功能很强，可以对第三方App进行测试，获取屏幕上任意一个APP的任意一个控件属性，并对其进行任意操作，但有两个缺点：</p>
<ul>
<li>只能使用Java进行测试脚本的开发</li>
<li>测试脚本要打包成jar或者apk包上传到设备上才能运行</li>
</ul>
<p>我们可以在Android SDK中找到相关组件</p>
<p><img src="https://raw.githubusercontent.com/JackliJ/JackImage/master/20211217151603.png" alt="20211217151603.png"></p>
<p>为了解决上述的问题，GitHub开源了改进的版本<a target="_blank" rel="noopener" href="https://github.com/openatx/uiautomator2">UIautomator2</a>,除了对原有的库的bug进行了修复，还增加了很多新的Feature,并且我们可以使用Python进行脚本的开发。</p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作:"></a><strong>准备工作:</strong></h1><h2 id="1-Python3-8-2安装"><a href="#1-Python3-8-2安装" class="headerlink" title="1. Python3.8.2安装"></a>1. Python3.8.2安装</h2><p>Python安装教程百度上很多教程，需要注意的是请安装3以上版本，2.7版本大部分库都不在支持了，pip也请使用pip3进行相关的操作,安装成功后确认版本</p>
<p><code>Python3 --version</code></p>
<h2 id="2-UIautomator2组件安装"><a href="#2-UIautomator2组件安装" class="headerlink" title="2. UIautomator2组件安装"></a>2. UIautomator2组件安装</h2><p>pip3安装UIautomator2插件</p>
<p><code>pip3 install -U uiautomator2</code></p>
<h2 id="3-Weditor可视化工具安装"><a href="#3-Weditor可视化工具安装" class="headerlink" title="3. Weditor可视化工具安装"></a>3. Weditor可视化工具安装</h2><p>pip3安装插件Weditor可视化插件</p>
<p><code>pip3 install --pre -U weditor</code></p>
<h2 id="4-ADB工具安装"><a href="#4-ADB工具安装" class="headerlink" title="4. ADB工具安装"></a>4. ADB工具安装</h2><p>ADB工具由Android SDK自带，我们只需要配置相关的环境变量即可，打开系统变量配置</p>
<p><code>vi ~/.bash_profile</code></p>
<p>添加如下路径即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export ANDROID_HOME</span><br><span class="line">export PATH=$PATH:$ANDROID_HOME/tools</span><br><span class="line">export PATH=$PATH:$ANDROID_HOME/platform-tools</span><br></pre></td></tr></table></figure>
<p>通过 <code>source ~/.bash_profile</code> 生效</p>
<p>安装完成之后 通过<br><code>pip3 list</code></p>
<p>查看安装组件列表，确认是否安装成功</p>
<p>到这一步 基本的环境安装工作就完成了。</p>
<h1 id="脚本和安装调试"><a href="#脚本和安装调试" class="headerlink" title="脚本和安装调试:"></a><strong>脚本和安装调试:</strong></h1><h2 id="1-初始化UIautomator2和ATX工具安装"><a href="#1-初始化UIautomator2和ATX工具安装" class="headerlink" title="1. 初始化UIautomator2和ATX工具安装"></a>1. 初始化UIautomator2和ATX工具安装</h2><p>在初始化UIautomator2组件前我们需要先连接我们的手机，初始化会将ATX和httprpc服务安装到手机上，在设置中打开手机开发者模式，并勾选USB调试功能，在终端使用<code>adb devices</code>确认是否链接</p>
<p><img src="https://raw.githubusercontent.com/JackliJ/JackImage/master/20211217175006.png"></p>
<p>连接成功后，开始进行UIautomator2的初始化</p>
<p><code>python3 -m uiautomator2 init</code></p>
<p>初始化成功后，你可以在手机上看到一个小黄车应用，可以理解为一个安装在手机中的后台服务</p>
<h2 id="2-启动Weditor可视化工具"><a href="#2-启动Weditor可视化工具" class="headerlink" title="2. 启动Weditor可视化工具"></a>2. 启动Weditor可视化工具</h2><p>在终端中执行 <code>weditor</code> </p>
<p><img src="https://raw.githubusercontent.com/JackliJ/JackImage/master/20211217175539.png"></p>
<p>1.点击的区域坐标和相关的自动化脚本代码等 </p>
<p>2.执行脚本区域</p>
<p>3.对应界面的布局层级和ID</p>
<p>通过可视化界面，可以直接获取相关应用界面的ID，坐标，便于脚本的编写和调试</p>
<h2 id="3-Python脚本编写和执行"><a href="#3-Python脚本编写和执行" class="headerlink" title="3. Python脚本编写和执行"></a>3. Python脚本编写和执行</h2><p>我这边先以目前公司的项目做了一个简单的登录脚本，用于演示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import uiautomator2 as u2</span><br><span class="line">d = u2.connect()</span><br><span class="line">d.debug = True</span><br><span class="line">d.app_stop(&quot;com.imtanbao&quot;)</span><br><span class="line">d.app_start(&quot;com.imtanbao&quot;, &quot;com.wanmide.tanbao.ui.main.MainActivity&quot;)</span><br><span class="line">#点击我的</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/title&quot;, text=&quot;我的&quot;).click()</span><br><span class="line">#点击账号输入框</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/et_mobile&quot;).click()</span><br><span class="line">#输入账号</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/et_mobile&quot;).send_keys(&quot;18801488382&quot;)</span><br><span class="line">#点击密码输入框</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/login_password&quot;).click()</span><br><span class="line">#输入密码</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/login_password&quot;).send_keys(&quot;aa123456&quot;)</span><br><span class="line">#点击一下其他区域收起软件盘</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/login_crop_image&quot;).click()</span><br><span class="line">#勾选隐私协议</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/register_check&quot;).click()</span><br><span class="line">#点击登录</span><br><span class="line">d(text=&quot;进入&quot;).click()</span><br><span class="line">d(text=&quot;登录成功&quot;).wait(timeout=10.0)</span><br><span class="line">#点击到秀场</span><br><span class="line">d(resourceId=&quot;com.imtanbao:id/title&quot;, text=&quot;秀场&quot;).click()</span><br></pre></td></tr></table></figure>
<p>执行的方式有两种，在weditor中执行，或者直接在终端中执行.py文件</p>
<p><code>python3 /Users/lijin/login.py</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/11/07/permission-denied-publickey-%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/07/permission-denied-publickey-%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/" class="post-title-link" itemprop="url">permission denied (publickey)问题的解决</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-11-07 19:30:28 / 修改时间：19:35:26" itemprop="dateCreated datePublished" datetime="2018-11-07T19:30:28+08:00">2018-11-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-检查SSH-key是否已经存在"><a href="#1-检查SSH-key是否已经存在" class="headerlink" title="1 检查SSH key是否已经存在"></a>1 检查SSH key是否已经存在</h3><p>用这个命令 ls ~/.ssh/<br>进行检查 id_rsa.pub 是否存在，如果存在，就不用生成一个新的SSH key了，直接跳到下面的第3步。</p>
<h3 id="2-如果第1步中的SSH-key不存在，生成一个新的SSH-key"><a href="#2-如果第1步中的SSH-key不存在，生成一个新的SSH-key" class="headerlink" title="2 如果第1步中的SSH key不存在，生成一个新的SSH key"></a>2 如果第1步中的SSH key不存在，生成一个新的SSH key</h3><p>命令如下：</p>
<p>ssh-keygen -t rsa -b 2048 -C “<a href="mailto:&#x79;&#x6f;&#117;&#x72;&#95;&#101;&#109;&#97;&#105;&#x6c;&#64;&#101;&#x78;&#97;&#109;&#112;&#108;&#x65;&#46;&#99;&#111;&#109;">&#x79;&#x6f;&#117;&#x72;&#95;&#101;&#109;&#97;&#105;&#x6c;&#64;&#101;&#x78;&#97;&#109;&#112;&#108;&#x65;&#46;&#99;&#111;&#109;</a>”<br>其中，<a href="mailto:&#x79;&#111;&#x75;&#x72;&#95;&#101;&#x6d;&#97;&#105;&#108;&#64;&#x65;&#120;&#97;&#109;&#112;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#x6d;">&#x79;&#111;&#x75;&#x72;&#95;&#101;&#x6d;&#97;&#105;&#108;&#64;&#x65;&#120;&#97;&#109;&#112;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#x6d;</a>要修改成你的邮箱地址。<br>回车后输出如下：<br>Generating public/private rsa key pair.<br>Enter file in which to save the key (/home/xxx/.ssh/id_rsa):<br>其中，xxx是你的用户名，直接回车，会将key保存到默认文件中。<br>接着会输出：<br>Enter passphrase (empty for no passphrase):<br>Enter same passphrase again:<br>这两步是让你输入一个密码，以及确认密码，这个密码在你提交代码到Github时会用到【注意：记住这个密码，最简单的方式就是设置的和github账户登入密码一样，容易记住】<br>回车后就提示成功了：<br>Your identification has been saved in /home/xxx/.ssh/id_rsa.<br>Your public key has been saved in /home/xxx/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db <a href="mailto:&#x79;&#x6f;&#x75;&#x72;&#x5f;&#x65;&#x6d;&#97;&#x69;&#108;&#64;&#x65;&#x78;&#x61;&#x6d;&#112;&#x6c;&#101;&#x2e;&#99;&#x6f;&#109;">&#x79;&#x6f;&#x75;&#x72;&#x5f;&#x65;&#x6d;&#97;&#x69;&#108;&#64;&#x65;&#x78;&#x61;&#x6d;&#112;&#x6c;&#101;&#x2e;&#99;&#x6f;&#109;</a><br>到这一步，你会发现 ~/.ssh/id_rsa.pub 文件已经生成了。</p>
<h3 id="3-将SSH-key添加到ssh-agent"><a href="#3-将SSH-key添加到ssh-agent" class="headerlink" title="3 将SSH key添加到ssh-agent"></a>3 将SSH key添加到ssh-agent</h3><p>先确认ssh-agent处于启用状态：<br>eval “$(ssh-agent -s)”</p>
<p>输出类似于：</p>
<p>Agent pid 32070</p>
<p>然后将SSH key添加到ssh-agent：</p>
<p>ssh-add ~/.ssh/id_rsa</p>
<p>这时又会要你输入密码：</p>
<p>Enter passphrase for /home/xxx/.ssh/id_rsa:<br>输入刚才记起来的密码，然后回车</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/11/07/Mac%E4%B8%8A%E6%8F%90%E4%BA%A4git%E5%87%BA%E7%8E%B0-config%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/07/Mac%E4%B8%8A%E6%8F%90%E4%BA%A4git%E5%87%BA%E7%8E%B0-config%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Mac上提交git出现.config文件权限问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-11-07 19:28:29 / 修改时间：19:38:04" itemprop="dateCreated datePublished" datetime="2018-11-07T19:28:29+08:00">2018-11-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>更改mac文件权限 在终端根目录输入一下命令:<br>sudo chown username 文件名称</p>
<p>如：更改.config的读写权限   sudo chown lijin .config</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/11/07/%E8%BF%81%E7%A7%BBhexo%E5%8D%9A%E5%AE%A2%E5%88%B0mac-os%E4%B8%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/07/%E8%BF%81%E7%A7%BBhexo%E5%8D%9A%E5%AE%A2%E5%88%B0mac-os%E4%B8%8A/" class="post-title-link" itemprop="url">迁移hexo博客到mac os上</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-11-07 18:09:33 / 修改时间：18:47:23" itemprop="dateCreated datePublished" datetime="2018-11-07T18:09:33+08:00">2018-11-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>测试一下提交</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/04/Android-IPC%E6%9C%BA%E5%88%B6%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/04/Android-IPC%E6%9C%BA%E5%88%B6%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB/" class="post-title-link" itemprop="url">Android IPC机制与数据共享</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-07-04 10:35:24 / 修改时间：19:11:20" itemprop="dateCreated datePublished" datetime="2018-07-04T10:35:24+08:00">2018-07-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><strong>Android IPC机制与数据共享</strong></p>
</blockquote>
<p>Android IPC 也就是<strong>Android进程间通信</strong>(Inter-Proscess Communication)，在Android中，进程间的通讯或者跨进程通讯，是指两个进程之间进行数据交换的过程，线程是CPU能管理的最小的单位，<strong>进程则可以理解成一个独立的单元，执行一个独立的程序和应用</strong>。比如，支付宝是如何直接调起淘宝中某个特殊的功能，而不仅仅是唤起。两个独立应用是如何进行数据共享的？这就需要理解实现IPC的多种方式了。</p>
<blockquote>
<p>实现IPC数据共享的多种方式</p>
</blockquote>
<p>在Android中实现的方式大约有6种，当然，这是我了解的，如果你有什么新的方式，欢迎邮件沟通。</p>
<ul>
<li><strong>使用Bundle</strong>  需要序列化</li>
<li><strong>使用文件共享</strong> 存储到文件系统，再从文件系统取出</li>
<li><strong>使用AIDL</strong> 推荐使用的方式</li>
<li><strong>使用ContentProvider</strong> 额，这个不在描述，大家都会的</li>
<li><strong>使用Socket</strong>  开端口进行通信</li>
<li><strong>使用广播(BroadCast)</strong> 方便首选，不过要注意广播的管理</li>
</ul>
<p>我将使用这6中方式来进行一个Demo的开发，这里主要讲一个思路。代码的源码我会放在我的GitHub上。</p>
<blockquote>
<p>使用Bundle共享序列化数据</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/14/%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96Android%E7%80%91%E5%B8%83%E6%B5%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/14/%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96Android%E7%80%91%E5%B8%83%E6%B5%81/" class="post-title-link" itemprop="url">如何优化Android瀑布流</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-06-14 15:28:41 / 修改时间：17:25:54" itemprop="dateCreated datePublished" datetime="2018-06-14T15:28:41+08:00">2018-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="如何优化Android瀑布流"><a href="#如何优化Android瀑布流" class="headerlink" title="如何优化Android瀑布流"></a>如何优化Android瀑布流</h1><blockquote>
<p>前言</p>
</blockquote>
<p>   随着APP设计的优化，瀑布流布局方式深受各大平台的喜爱。其大图的展示方式和引发好奇心的下滑模式，是其设计的优点。但是APP大量的图片展示，在Android端势必会影响到滑动的流畅和APP的体验，如何优化图片加载和滑动成为开发瀑布流的重中之重，最近遇到了这块的问题，所有在此做个记录，与君共勉。</p>
<blockquote>
<p>开发的流程是什么样的？</p>
</blockquote>
<p>   在Android端做瀑布流，首选的当然就是RecyclerView了，其具体的用法这里就不做介绍了，网上有很多，我们主要讨论一下图片是如何裁剪和优化的。<br>   要对图片进行裁剪，我们要获取到图片的Width和height。在Android获取长宽，bitmap是逃不掉。而总所周知的是，bitmap是一个耗费内存的大户，如果我们在主线程内大量的使用bitmap而不做好管理的话，很可能影响APP的流畅度，甚至导致崩溃的发生。<br>   那我们应该如何去设计和优化？这里有两个想法分享一下。</p>
<ol>
<li>在上传图片的时候，在服务端保存宽高</li>
<li>在本地进行获取，再展示</li>
</ol>
<p>在服务端存取方式较为简单，接口获取，直接动态设置，不做描述，而客户端去解析的情况会比较多，大部分公司的瀑布流都是后期上的，前期的图片是没有宽高数据的，让后端去改并不现实，所以这里大体讨论一下Android端的实现方式。<br>我是这样设计的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 服务端传递图片URL</span><br><span class="line">op=&gt;operation: 下载图片获取宽高</span><br><span class="line">cond=&gt;operation: 赋值给数据源</span><br><span class="line">e=&gt;end</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond </span><br></pre></td></tr></table></figure>

<p>在获取到数据的时候，将数据存储到Data。 在setAdapter之前，也就是请求成功，数据已经保存为内存地址的data时，将数据给一个服务(Service)，由服务去先行处理图片，获取宽高。然后Adapter中的Item布局ImageView，去进行重新，在绘制组件之前设置宽高比。我们先看一下DataService的核心代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.app.IntentService;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.os.Parcelable;</span><br><span class="line"><span class="keyword">import</span> com.android.maiguo.activity.home.newhome.model.Found;</span><br><span class="line"><span class="keyword">import</span> com.bumptech.glide.Glide;</span><br><span class="line"><span class="keyword">import</span> com.bumptech.glide.request.target.Target;</span><br><span class="line"><span class="keyword">import</span> org.greenrobot.eventbus.EventBus;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用于处理图片的Service</span></span><br><span class="line"><span class="comment"> * Create by www.lijin@foxmail.com on 2018/6/11 0011.</span></span><br><span class="line"><span class="comment"> * &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataService</span> <span class="keyword">extends</span> <span class="title">IntentService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startService</span><span class="params">(Context context, List&lt;Found&gt; datas, String subtype)</span> </span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(context, DataService.class);</span><br><span class="line">        intent.putParcelableArrayListExtra(<span class="string">&quot;data&quot;</span>, (ArrayList&lt;? extends Parcelable&gt;) datas);</span><br><span class="line">        intent.putExtra(<span class="string">&quot;subtype&quot;</span>, subtype);</span><br><span class="line">        context.startService(intent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onHandleIntent</span><span class="params">(Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (intent == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        List&lt;Found&gt; mData = intent.getParcelableArrayListExtra(<span class="string">&quot;data&quot;</span>);</span><br><span class="line">        String subtype = intent.getStringExtra(<span class="string">&quot;subtype&quot;</span>);</span><br><span class="line">        handleGirlItemData(mData, subtype);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Bitmap bitmap = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handleGirlItemData</span><span class="params">(List&lt;Found&gt; mData, String subtype)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mData.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            EventBus.getDefault().post(<span class="string">&quot;finish&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Found data : mData) &#123;</span><br><span class="line">            <span class="comment">//获取BitMap</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bitmap = Glide.with(<span class="keyword">this</span>)</span><br><span class="line">                        .asBitmap()</span><br><span class="line">                        .load(data.getImgurl())</span><br><span class="line">                        .into(Target.SIZE_ORIGINAL, Target.SIZE_ORIGINAL)</span><br><span class="line">                        .get();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//将宽高设置到实体去</span></span><br><span class="line">            <span class="keyword">if</span> (bitmap != <span class="keyword">null</span>) &#123;</span><br><span class="line">                data.setWidth(bitmap.getWidth());</span><br><span class="line">                data.setHeight(bitmap.getHeight());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            data.setSubtype(subtype);</span><br><span class="line">        &#125;</span><br><span class="line">        EventBus.getDefault().post(mData);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动服务，将图片的链接给Glide。这里要注意Glide的缓存模式应该设置为DiskCacheStrategy.ALL  让Glide既缓存全尺寸图片，下次在任何ImageView中加载图片的时候，全尺寸的图片将从缓存中取出，重新调整大小，然后缓存。获取的宽高保存到data中。注意,这里是循环获取的，在这之前，页面是还没有开始加载数据的，应该展示加载按钮。等服务跑完，即时关闭。通过返回的接口，去加载数据。这样，在家数据的时候，只要对Imageview直接赋值就好，不用在额外的去考虑宽高比了，再设置之前，这个就已经初始化好了，我们接着看一下重写的Imageview </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重写的ImageView</span></span><br><span class="line"><span class="comment"> * Create by www.lijin@foxmail.com on 2018/6/11 0011.</span></span><br><span class="line"><span class="comment"> * &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScaleImageView</span> <span class="keyword">extends</span> <span class="title">android</span>.<span class="title">support</span>.<span class="title">v7</span>.<span class="title">widget</span>.<span class="title">AppCompatImageView</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> initWidth;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> initHeight;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ScaleImageView</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ScaleImageView</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInitSize</span><span class="params">(<span class="keyword">int</span> initWidth, <span class="keyword">int</span> initHeight)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.initWidth = initWidth;</span><br><span class="line">        <span class="keyword">this</span>.initHeight = initHeight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (initWidth &gt; <span class="number">0</span> &amp;&amp; initHeight &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> width = MeasureSpec.getSize(widthMeasureSpec);</span><br><span class="line">            <span class="keyword">int</span> height = MeasureSpec.getSize(heightMeasureSpec);</span><br><span class="line">            <span class="comment">//计算比例</span></span><br><span class="line">            <span class="keyword">float</span> scale = (<span class="keyword">float</span>) initHeight / (<span class="keyword">float</span>) initWidth;</span><br><span class="line">            <span class="keyword">if</span> (width &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                height = (<span class="keyword">int</span>) ((<span class="keyword">float</span>)width * scale);</span><br><span class="line">            &#125;</span><br><span class="line">            setMeasuredDimension(width, height);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在Adapter中 布局高设置为包裹wrap_content，使用setInitSize设置宽高，再去加载图片</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.android.maiguo.activity.R;</span><br><span class="line"><span class="keyword">import</span> com.android.maiguo.activity.base.MaiGuoErApplication;</span><br><span class="line"><span class="keyword">import</span> com.android.maiguo.activity.home.newhome.model.Found;</span><br><span class="line"><span class="keyword">import</span> com.android.maiguo.activity.home.newhome.weight.ScaleImageView;</span><br><span class="line"><span class="keyword">import</span> com.bumptech.glide.Glide;</span><br><span class="line"><span class="keyword">import</span> com.chad.library.adapter.base.BaseQuickAdapter;</span><br><span class="line"><span class="keyword">import</span> com.chad.library.adapter.base.BaseViewHolder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 瀑布流adapter</span></span><br><span class="line"><span class="comment"> * Create by www.lijin@foxmail.com on 2018/6/11 0011.</span></span><br><span class="line"><span class="comment"> * &lt;br/&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FoundHomeListAdapter</span> <span class="keyword">extends</span> <span class="title">BaseQuickAdapter</span>&lt;<span class="title">Found</span>, <span class="title">BaseViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FoundHomeListAdapter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(R.layout.found_main_adapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">convert</span><span class="params">(BaseViewHolder helper, Found item)</span> </span>&#123;</span><br><span class="line">        ScaleImageView imageView = helper.getView(R.id.girl_item_iv);</span><br><span class="line">        imageView.setInitSize(item.getWidth(), item.getHeight());</span><br><span class="line">        <span class="comment">//加载图片</span></span><br><span class="line">        Glide.with(MaiGuoErApplication.getInstance().getApplicationContext()).load(item.getImgurl()).into(imageView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        remove(position);</span><br><span class="line">        notifyDataSetChanged();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以通过Android Studio提供的内存分析工具去查看，优化过后的内存使用情况<br><img src="https://github.com/JackliJ/JackImage/blob/master/2018614163546.png?raw=true" alt="enter image description here"><br>这是急速滑动的时候，非常流畅，内存使用稳定，没有大幅度波动<br><img src="https://github.com/JackliJ/JackImage/blob/master/2018%E5%B9%B4614163608.png?raw=true" alt="enter image description here"><br>往回滑动，图片进行复用，内存使用得很少<br><img src="https://github.com/JackliJ/JackImage/blob/master/2018%E5%B9%B4614163618.png?raw=true" alt="enter image description here"><br>再上一张动态图</p>
<hr>
<p><img src="https://github.com/JackliJ/JackImage/blob/master/2018614165552.gif?raw=true" alt="enter image description here"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/30/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%B8%80%E6%AC%BE%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AFAPP-%E7%AC%AC%E4%BA%8C%E6%9C%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/30/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%B8%80%E6%AC%BE%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AFAPP-%E7%AC%AC%E4%BA%8C%E6%9C%9F/" class="post-title-link" itemprop="url">如何开发一款即时通讯APP-第二期</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-05-30 14:18:07 / 修改时间：15:09:00" itemprop="dateCreated datePublished" datetime="2018-05-30T14:18:07+08:00">2018-05-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>如何开发一款即时通讯APP</p>
</blockquote>
<p>上一期讲到了基础的网络原理和安装基础的开发环境，在这一期中，则主要是对APP的需求设计做一个简单的概述，APP讲述的需求模式，满足于基础的聊天设计，其中的一些UI设计，统归于个人解释，请勿擅自抄袭，该博客旨在帮助建立理解即时通讯软件的基础设计</p>
<blockquote>
<p>前文</p>
</blockquote>
<p>即时通讯社交APP,其设计的初衷是为了方便社交，所以一个简洁的界面设计是必须的，当然其大方符合逻辑操作的流程也是必要的，这里对界面流程进行简单的介绍。</p>
<blockquote>
<p>需求定义和主要功能介绍</p>
</blockquote>
<p>应用初始界面为登录界面，包含账户输入框和密码输入框，账户框输入的字段限制为11位的手机号码，并需要使用正则表达式进行验证，在初次登录完成后，保存当前登录的用户名称，在下次退出登录，或者被迫下线情况下显示。在用户输入账户完成的时候，如果当前用户存在，需要在用户框显示用户的头像。密码输入框对长度限制为二十位，特殊符号不可以输入，首字母必须大写，必须包含数字，大写字母，小写字母三种元素，并且在用户输入一个字符后的0.5秒自动变为*号。以用于掩盖用户的密码，防止窥视。登录页面不需要验证，其密码验证放到注册界面，点击登录按钮时应验证输入框是否为空，并给出适当的提示语。验证密码成功后，进入聊天主页。</p>
<p><img width="47%" height="30%" src="https://github.com/JackliJ/JackImage/blob/master/2018530142235.png?raw=true"/>   <img width="49%" height="30%" src="https://github.com/JackliJ/JackImage/blob/master/2018530142251.png?raw=true"/></p>
<p>注册页面，通过登录页面右上角的登录按钮进入，注册页面的右上角同样设计有登录按钮，用户可以通过点击返回登录页面。注册页面包含4个输入框，用户需要填写昵称，密码，手机号码，和手机号码的验证码。昵称用作后面聊天的昵称，最多为10位字符，不可以为空，密码则遵照登录简介的长度限制为二十位，特殊符号不可以输入，首字母必须大写，必须包含数字，大写字母，小写字母三种元素。在这里需要对输入密码的规范做出验证，并在用户输入不规范的情况下酌情提示用户进行修改。同样的手机号码的输入也需要进行验证，当验证通过后才能进行获取验证码的操作。</p>
<p>注册时候发出的验证码有效时间为五分钟，每一分钟最多发送一次，不可以重复进行点击发送。点击完成注册的时候，验证用户输入的验证码 是否正确，以及验证验证码是 否超时。当用户验证码输入正确，则提示用户注册成功，跳转到登录页面，自动填充账户名和密码输入框并进行自动登录，登录完成后进入主页面。<br>主页设计了三个大的模块，分别为收取回复消息模块，通讯录人脉 朋友模块，和群组交流模块。<br>收取回复消息模块又包括小秘书(机器客服系统)，脉 友 圈(心情发布和文章转发等)，系统消息（由后端发送的推送消息，系统级别的透 传 消息等，如群主群成员进群批复等），聊天信息列表（用户与用户的聊天列表）。</p>
<p>点击小秘书，进入机器人客服 咨询聊天界面，用户可以通过该功能咨询APP的使用须知，方式方法，注意事项等相关信息。</p>
<p>点击 脉 友 圈，进入心情文章展示列表，心情文章由用户的朋友通过自编辑进行发送，用户可以进行 点 赞 转发等操作，发送心情或者文章的时候可以插入图片并进行排版。也可以定位当前的位置并进行发送。<br>点击系统消息，可以看到由后端发送的推送信息，通常为文本方式，也可以是文章推荐，新闻等方式进行展示。如果当前用户是创建过群组，作为群主，也可以在这里处理入群申请，接受 退 群 提示等相关信息。<br>系统消息下面为用户的聊天列表，包含用户的头像，昵称，当前聊天信息的最后一条信息的展示，未读消息数量等。未读消息数量最多为99条，超过99条的未读消息数量显示为99+，当用户右滑单个消息模块的时候，显示删除按钮，当用户点击删除按钮的时候，确认是否删除，若再次点击，则删除当前的聊天，并清理聊天记录。</p>
<p><img src="https://github.com/JackliJ/JackImage/blob/master/2018530142313.png?raw=true" alt="enter image description here"><img src="https://github.com/JackliJ/JackImage/blob/master/2018530142355.png?raw=true" alt="enter image description here"></p>
<p>朋友模块用于展示用户的好友，包含的元素和消息模块一致，但是需要区分的是，灰色信息部分改为了用户的简介，当用户点击朋友的头像则进入用户的简介页面，即个人中心，在朋友模块加入了筛选和收缩功能，顶部的搜索输入框通过用户名或者电话号码进行单个用户的搜索，旁边的筛选条则通过首字母进行定位，当用户滑动字幕条到某个字母位置的时候，则数据列表定位到摸个字母列表，这里需要理解的是，好友数据是按照昵称首字母进行排序的。<br><img width="30%" height="30%" src="https://github.com/JackliJ/JackImage/blob/master/2018530142410.png?raw=true"/>   <img width="30%" height="30%" src="https://github.com/JackliJ/JackImage/blob/master/2018530142422.png?raw=true"/><img width="30%" height="30%" src="https://github.com/JackliJ/JackImage/blob/master/2018530142433.png?raw=true"/></p>
<p>群组模块为用户创建或者用户加入的时候进行显示，显示为用户加入或者创建的群组的名称，如果该群为用户创建的，则需要显示群主标识。同时，群组的头像为群主本身在注册的时候进行选择的，在创建群组后，可以在群资料编辑界面进行修改。同时在编辑页面也可以进行群组类别，群组公告，等信息的更改。<br>最为关键的模块，则是聊天信息模块。聊天信息模块可以通过点击通讯录的好友列表单项进入聊天界面，在用户发送了一条消息的时候，则在消息列表创建信息体，并保存用户的聊天消息记录，如果用户没有发送消息，则点击返回的时候，在消息模块是默认不创建聊天信息列表的。群组的规则则遵照朋友的点击方式，在这里我们将由朋友点击进入的一对一聊天称之为单聊，由群组点击进入的一对多聊天称之为群聊，并且在下文中使用该种描述，并不在多做说明。</p>
<p>单聊模块顶部包含返回按钮，在设计中，在整个屏幕的靠近左侧区域向右滑动也是可以实现返回动作的，主要是为了方便快捷聊天的设计。其设计的灵感来源于苹果公司的IOS系统的交互模式。顶部除了返回还包含有当前与之聊天互动的用户的昵称和其个人资料的点击按钮。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/30/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%B8%80%E6%AC%BE%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AFAPP-%E7%AC%AC%E4%B8%80%E6%9C%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jack Li">
      <meta itemprop="description" content="You still need to have a dream. What if it came true?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to Au Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/30/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%B8%80%E6%AC%BE%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AFAPP-%E7%AC%AC%E4%B8%80%E6%9C%9F/" class="post-title-link" itemprop="url">如何开发一款即时通讯APP(第一期)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2018-05-30 11:00:52 / 修改时间：11:34:20" itemprop="dateCreated datePublished" datetime="2018-05-30T11:00:52+08:00">2018-05-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>如何开发一款即时通讯APP</p>
</blockquote>
<p>首先，写这篇博客的目的是给予需要做相关开发人员一个思路，本文默认阅读者已熟悉基础计算机开发流程并对于Java语言等的基础应用有了解，对于博客中涉及到的知识点有什么需要指正的地方，欢迎联系作者邮箱：<a target="_blank" rel="noopener" href="http://www.lijin@foxmail.com/">www.lijin@foxmail.com</a></p>
<blockquote>
<p>前文</p>
</blockquote>
<p>即时通讯产品一直都是社交APP的基础基石，而围绕着即时通讯展开的一系列技术，以及开发过程中需要知识和使用到的工具，如TCP和UDP协议，XMPP协议，Java基础，Android SDK，Android Studio IDE的使用， Android基础组件在整个APP的使用，以及如何集成第三方的组件进行快捷开发，在本文中都会进行相应的介绍并在文末表述其关键作用和对于未来即时通讯APP发展的展望</p>
<blockquote>
<p>深入浅出理解TCP    、UDP、XMPP协议对于即时通讯软件的作用</p>
</blockquote>
<p>首先即时通讯必然是一款基于网络的应用，这点是毋庸置疑的。那么对于基础网络协议的理解，将能帮助我们更好的设计和开发基于这些的APP应用。我们可以这样去理解，将用户使用的前端，后端分开，而中间连线的则就是我们的网络协议了，我们可以通过图一进行简单的了解。</p>
<p><img src="https://github.com/JackliJ/JackImage/blob/master/2018530110925.png?raw=true" alt="1"></p>
<p>从上图可以清晰的看出一款应用于后端交互的过程，手机代表客户终端，为电脑代表服务终端，数据经过防火墙，存储在服务器或者云端。我们可以简单的吧序号1,2,3,4理解成1序号，即前端与后端的交互，而这之中使用技术的重中之重就是网络协议了。</p>
<p>首先我们回顾一下TCP/IP协议，即传输控制协议/因特网互联协议，也可以叫做网络通讯协议，其定义了电子设备，比如我们的手机，IPAD是如何连接进入因特网的，TCP也可以简单的称作为握手协议，而后面讲到的XMPP，基于XML的协议，也是与TCP有很大的关联的，一起作为即时通讯IM应用程序，在网络层上的关键应用。</p>
<p>而UDP是什么？ 我们可以这么理解，在网络中，它与TCP一样都是搬砖的工人，将一块砖从一个用户的手里搬到另外一个用户的手里，不同的是：</p>
<ol>
<li>   <strong>TCP需要进行三次握手进行确认另外一个用户收到了这块砖</strong></li>
<li>   <strong>UDP则是直接将砖丢给了客户，而转身就走。</strong></li>
</ol>
<p>当然，前面比喻中的砖，也就是我们的数据包。我们就接着上文的比喻，搬运工手中的砖（数据包）是需要制式（规范）的，是如何制作出来的，那这个规定，则就是我们要讲的XMPP。</p>
<p>XMPP是一种标准通用语言的子集XML的协议，其大意可以理解成可以扩展的XML通讯集层，而在这里也引入了另外一个技术名词：Socket。 Socket是什么？你也可以把它理解成一个搬运工，只是这个搬运工是经过包装的，实际上就是对TCP/UDP的一个封装，但是它本身并不算是一个协议，而是一个调用的接口，就好像搬运过程中的运输机一样的动作，从一个端口接受，通过处理，供给另外一个端口。</p>
<hr>
<blockquote>
<p>  如何使用Android Studio和Android SDK开发一款应用</p>
</blockquote>
<p>Android系统 是由谷歌在2008年推出的一款基于Linux内核的移动操作系统，现如今已经是世界上份额第一的移动操作系统了，而Google官方针对于开发者提供了开发Android APP的IDE工具Android studio 和对于底层的API库Android SDK，其官方的文档为开发者提供了基础的使用讲解。</p>
<p>首先是Android Studio的下载。你可以在Android的官网下下载，也可以在国内的开源网站安卓网进行下载，下载下来的版本会自带Android SDK和基础的开发插件，这些将帮助你建立一款基于Android系统的应用级APP。<br><img src="https://github.com/JackliJ/JackImage/blob/master/2018530110950.png?raw=true" alt="2"></p>
<p>安装完成后你将看到如下的界面，我们通过Start a new Android Studio project可以新建一个项目，这里将这次项目的命名为Jack GitHub。下图为新建项目后的目录结构。</p>
<p><img src="https://github.com/JackliJ/JackImage/blob/master/2018530111011.png?raw=true" alt="3"></p>
<p>这里简单的做一个目录结构的介绍，用于帮助更好的理解下文</p>
<table>
<thead>
<tr>
<th>名称</th>
<th align="right">介绍</th>
</tr>
</thead>
<tbody><tr>
<td>APP</td>
<td align="right">APP的项目名称</td>
</tr>
<tr>
<td>AndroidManifest.xml</td>
<td align="right">APP的基础配置文件，如图标，和应用名称等</td>
</tr>
<tr>
<td>res</td>
<td align="right">资源目录</td>
</tr>
<tr>
<td>drawable</td>
<td align="right">自定义资源文件夹</td>
</tr>
<tr>
<td>layout</td>
<td align="right">视觉资源文件夹</td>
</tr>
<tr>
<td>mipmap</td>
<td align="right">图片插图资源目录</td>
</tr>
<tr>
<td>values</td>
<td align="right">数据配置文件夹</td>
</tr>
<tr>
<td>attrs.xml</td>
<td align="right">数据集XML</td>
</tr>
<tr>
<td>colors.xml</td>
<td align="right">颜色引用集</td>
</tr>
<tr>
<td>dimens.xml</td>
<td align="right">字体大小引用集</td>
</tr>
<tr>
<td>strings.xml</td>
<td align="right">文本引用集</td>
</tr>
<tr>
<td>styles.xml</td>
<td align="right">样式引用集</td>
</tr>
</tbody></table>
<p>安装好运行环境后，你需要进行测试。可以使用虚拟机模拟Android运行环境，也可以使用真机进行相关的操作。当你在Android环境中，打开安装的APP时显示hello world，那么恭喜你，基础环境已经安装完成。</p>
<p>好的，今天的介绍就在这里结束，有兴趣的同学可以详细的通过书籍，如《TCP/IP协议》去了解网络层相关的知识，那我们将在下一节简单介绍即时通讯软件的基础需求，主要是一些基础的设计，和模块之间的关联关系，可以作为参考，如果你已经有自己的需求设计，可以直接跳过第二期，阅读第三期的开发流程。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jack Li</p>
  <div class="site-description" itemprop="description">You still need to have a dream. What if it came true?</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jack Li</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
